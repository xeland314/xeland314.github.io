---
import BlogPostLayout from "../../../layouts/BlogPostLayout.astro";
import RadiographyHeader from "../../../components/blog/RadiographyHeader.astro";
import PostFooterBar from "../../../components/blog/PostFooterBar.astro";

const title = "HTTP Request Anatomy";
const description = "Radiograf√≠a de una petici√≥n HTTP";
---

<BlogPostLayout
  title={title}
  description={description}
  bgColor="bg-slate-900"
  extraFonts="&family=Fira+Code:wght@400;700"
  lang="es"
>
  <div
    class="relative p-12 flex flex-col text-white overflow-hidden h-full"
  >
    <RadiographyHeader
      categoryText="Protocolos Web"
      categoryColorClass="text-purple-400"
      titlePrefix="Radiograf√≠a:"
      titleHighlightText="HTTP Request"
      titleHighlightColorClass="text-purple-400"
      subtitle="Estructura de comunicaci√≥n Cliente-Servidor"
    />

    <!-- Main Content Grid -->
    <div class="grid grid-cols-2 gap-8 mb-8">
      <!-- Left Col: Code Visual -->
      <div
        class="feature-card rounded-3xl p-6 relative flex flex-col justify-center"
      >
        <div class="font-mono text-lg leading-loose">
          <!-- Request Line -->
          <div class="mb-3">
            <span
              class="text-purple-400 font-bold border-b border-purple-400/30"
              >POST</span
            >
            <span class="text-white"> </span>
            <span class="text-purple-300">/api/v1/users</span>
            <span class="text-white"> </span>
            <span class="text-slate-500">HTTP/1.1</span>
          </div>

          <!-- Headers -->
          <div class="text-sky-400 mb-2 text-md leading-none">
            <p>
              <span class="font-bold text-sky-300">Host:</span> api.ejemplo.com
            </p>
            <p>
              <span class="font-bold text-sky-300">Authorization:</span> Bearer eyJhbGc...
            </p>
            <p>
              <span class="font-bold text-sky-300">Content-Type:</span> application/json
            </p>
            <p>
              <span class="font-bold text-sky-300">Accept:</span> application/json
            </p>
            <p>
              <span class="font-bold text-sky-300">User-Agent:</span> Chrome/120.0
            </p>
            <p>
              <span class="font-bold text-sky-300">Content-Length:</span> 89
            </p>
          </div>

          <!-- Empty Line indicator -->
          <div
            class="h-6 w-full bg-slate-800/50 rounded border border-dashed border-slate-600 mb-2 flex items-center justify-center"
          >
            <span
              class="text-xs text-slate-500 uppercase tracking-widest font-sans font-bold"
              >L√≠nea en blanco</span
            >
          </div>

          <!-- Body -->
          <div class="text-emerald-400 text-sm">
            <p>{`{`}</p>
            <p class="pl-4">"nombre": "Ana Garc√≠a",</p>
            <p class="pl-4">"email": "ana@ejemplo.com",</p>
            <p class="pl-4">"rol": "admin"</p>
            <p>{`}`}</p>
          </div>
        </div>
      </div>

      <!-- Right Col: Explanations -->
      <div class="flex flex-col gap-5 justify-center">
        <!-- Intro -->
        <p class="text-slate-300 text-lg leading-snug">
          Define la acci√≥n (ej. <span class="font-bold text-purple-400"
            >GET</span
          >, <span class="font-bold text-purple-400">POST</span>) que el cliente
          solicita al servidor sobre un recurso espec√≠fico.
        </p>

        <!-- Request Line Card -->
        <div class="flex gap-4 items-start">
          <div
            class="w-2 h-full min-h-[50px] bg-purple-500 rounded-full shadow-[0_0_15px_rgba(168,85,247,0.5)]"
          >
          </div>
          <div>
            <h3
              class="text-purple-400 font-bold text-xl uppercase tracking-wider"
            >
              L√≠nea de Solicitud
            </h3>
            <p class="text-slate-400 text-md mt-1">
              <span class="text-white font-bold">M√©todo:</span> Acci√≥n (GET, POST).<br
              />
              <span class="text-white font-bold">URI:</span> Ruta (/usuarios/1).<br
              />
              <span class="text-white font-bold">Versi√≥n:</span> HTTP/1.1 o HTTP/2.
            </p>
          </div>
        </div>

        <!-- Headers Card -->
        <div class="flex gap-4 items-start">
          <div
            class="w-2 h-full min-h-[50px] bg-sky-500 rounded-full shadow-[0_0_15px_rgba(14,165,233,0.5)]"
          >
          </div>
          <div>
            <h3 class="text-sky-400 font-bold text-xl uppercase tracking-wider">
              Cabeceras
            </h3>
            <p class="text-slate-400 text-md mt-1">
              Metadatos clave-valor (Host, Auth, Content-Type) que dan contexto
              a la petici√≥n.
            </p>
          </div>
        </div>

        <!-- Body Card -->
        <div class="flex gap-4 items-start">
          <div
            class="w-2 h-full min-h-[50px] bg-emerald-500 rounded-full shadow-[0_0_15px_rgba(16,185,129,0.5)]"
          >
          </div>
          <div>
            <h3
              class="text-emerald-400 font-bold text-xl uppercase tracking-wider"
            >
              Cuerpo (Opcional)
            </h3>
            <p class="text-slate-400 text-md mt-1">
              Datos enviados al servidor (JSON, Form), com√∫n en POST/PUT.
              Separado por una l√≠nea vac√≠a.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Headers Esenciales -->
    <div class="mb-4">
      <h3 class="text-sky-400 font-bold text-2xl mb-2 uppercase tracking-wide">
        Headers Esenciales
      </h3>
      <div class="p-4 rounded-xl">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <div class="flex items-start gap-3 mb-3">
              <span
                class="text-sky-400 font-bold font-mono text-lg min-w-[140px]"
                >Authorization</span
              >
              <span class="text-slate-400 text-lg"
                >Credenciales de autenticaci√≥n</span
              >
            </div>
            <div class="flex items-start gap-3 mb-3">
              <span
                class="text-sky-400 font-bold font-mono text-lg min-w-[140px]"
                >Content-Type</span
              >
              <span class="text-slate-400 text-lg"
                >Tipo de datos en el body</span
              >
            </div>
            <div class="flex items-start gap-3 mb-3">
              <span
                class="text-sky-400 font-bold font-mono text-lg min-w-[140px]"
                >Accept</span
              >
              <span class="text-slate-400 text-lg"
                >Formatos que acepta el cliente</span
              >
            </div>
          </div>
          <div>
            <div class="flex items-start gap-3 mb-3">
              <span
                class="text-sky-400 font-bold font-mono text-lg min-w-[140px]"
                >User-Agent</span
              >
              <span class="text-slate-400 text-lg"
                >Informaci√≥n del navegador</span
              >
            </div>
            <div class="flex items-start gap-3 mb-3">
              <span
                class="text-sky-400 font-bold font-mono text-lg min-w-[140px]"
                >Cookie</span
              >
              <span class="text-slate-400 text-lg"
                >Datos de sesi√≥n del cliente</span
              >
            </div>
            <div class="flex items-start gap-3 mb-3">
              <span
                class="text-sky-400 font-bold font-mono text-lg min-w-[140px]"
                >Host</span
              >
              <span class="text-slate-400 text-lg"
                >Dominio del servidor destino</span
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Nota sobre HTTPS -->
    <div
      class="p-5 rounded-xl border-l-4 border-purple-500 mb-auto"
    >
      <p class="text-slate-300 text-lg leading-relaxed">
        <span class="text-purple-400 font-bold text-lg">üîí HTTPS:</span>
        En conexiones HTTPS, toda la petici√≥n (l√≠nea de solicitud, headers y body)
        viaja
        <span class="text-purple-300 font-bold">cifrada mediante TLS</span>,
        protegiendo datos sensibles como contrase√±as, tokens y informaci√≥n
        personal de intermediarios maliciosos.
      </p>
    </div>

    <PostFooterBar
      middleHtml='<span class="text-purple-400 font-black italic">CLIENTE</span> solicita ‚Ä¢ <span class="text-sky-400 font-black italic">SERVIDOR</span> procesa.'
    />
  </div>

  <style>
    .feature-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
  </style>
</BlogPostLayout>
