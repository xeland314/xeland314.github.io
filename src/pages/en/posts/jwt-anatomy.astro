---
import BlogPostLayout from "../../../layouts/BlogPostLayout.astro";
import RadiographyHeader from "../../../components/blog/RadiographyHeader.astro";
import PostFooterBar from "../../../components/blog/PostFooterBar.astro";

const title = "JSON Web Token";
const description = "Radiography: JWT - Anatomy of a Secure Token";
---

<BlogPostLayout
  title={title}
  description={description}
  bgColor="bg-slate-950"
  extraFonts="&family=Fira+Code:wght@400"
  lang="en"
>
  <div
    class="relative p-8 md:p-16 flex flex-col text-white overflow-hidden h-full"
  >
    <!-- Language Link -->
    <div class="absolute top-4 right-4 z-50">
      <a
        href="/es/posts/jwt-anatomy"
        class="glass-tag px-3 py-1 rounded text-slate-400 hover:text-white text-sm font-bold transition-colors"
      >
        ES
      </a>
    </div>

    <RadiographyHeader
      categoryText="JSON Web Token"
      categoryColorClass="text-purple-400"
      titlePrefix="X-Ray:"
      titleHighlightText="JWT"
      titleHighlightColorClass="text-cyan-400"
      subtitle="Anatomy of a Secure Token"
    />

    <div class="feature-card rounded-3xl p-10 mb-8 relative">
      <div class="code-font text-2xl leading-relaxed">
        <div class="mb-8">
          <span class="text-red-400 font-bold break-all text-2xl"
            >eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9</span
          >.
          <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
            <p class="token-label text-red-400 font-bold text-xl">1. Header</p>
            <p
              class="text-slate-500 text-xl mt-2 italic px-3 border-l border-white/20"
            >
              {"{"} "alg": "<span class="text-red-300">HS256</span>", "typ":
              "JWT" {"}"}
            </p>
          </div>
        </div>

        <div class="mb-8">
          <span class="text-purple-400 font-bold break-all text-2xl"
            >eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIn0</span
          >.
          <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
            <p class="token-label text-purple-400 font-bold text-xl">
              2. Payload
            </p>
            <p
              class="text-slate-500 text-xl mt-2 italic px-3 border-l border-white/20"
            >
              {"{"} "sub": "1234567890", "name": "John Doe" {"}"}
            </p>
          </div>
        </div>

        <div>
          <span class="text-cyan-400 font-bold break-all text-2xl"
            >z2DmVEGQgBfehGn5Xrqh8bpH6cVstDhV7QPwZg1lQkc</span
          >
          <div class="flex flex-col md:flex-row gap-4 items-start md:items-center">
            <p class="token-label text-cyan-400 font-bold text-xl">
              3. Signature
            </p>
            <p
              class="text-slate-500 text-xl mt-2 italic px-3 border-l border-white/20"
            >
              HMACSHA256(header + "." + payload, <span class="text-yellow-400"
                >secret</span
              >)
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start mb-auto">
      <div class="space-y-4">
        <div class="glass-tag p-5 rounded-xl">
          <h4
            class="text-purple-400 font-bold text-lg uppercase tracking-widest mb-1"
          >
            Standard
          </h4>
          <p class="text-slate-200 leading-snug text-lg">
            Defined by <span class="font-bold text-white">RFC 7519</span> to
            securely transmit information as a JSON object.
          </p>
        </div>
        <div class="glass-tag p-5 rounded-xl">
          <h4
            class="text-purple-400 font-bold text-lg uppercase tracking-widest mb-1"
          >
            Stateless
          </h4>
          <p class="text-slate-200 leading-snug text-lg">
            The server doesn't need to store sessions, as the <span
              class="text-white font-bold">token contains everything</span
            > needed for verification.
          </p>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="feature-card p-6 rounded-2xl">
          <h3 class="text-cyan-400 font-bold text-xl mb-2">Compact</h3>
          <p class="text-slate-400 text-md">
            Easy to send via URL, POST or HTTP headers.
          </p>
        </div>
        <div class="feature-card p-6 rounded-2xl">
          <h3 class="text-cyan-400 font-bold text-xl mb-2">Secure</h3>
          <p class="text-slate-400 text-md">
            Digital signature ensures data wasn't tampered with.
          </p>
        </div>
        <div class="feature-card p-6 rounded-2xl">
          <h3 class="text-cyan-400 font-bold text-xl mb-2">Cross-Domain</h3>
          <p class="text-slate-400 text-md">
            Works perfectly across different microservices.
          </p>
        </div>
        <div class="feature-card p-6 rounded-2xl">
          <h3 class="text-cyan-400 font-bold text-xl mb-2">JSON Native</h3>
          <p class="text-slate-400 text-md">
            Readable by any modern language or platform.
          </p>
        </div>
      </div>
    </div>

    <PostFooterBar
      middleHtml='<span class="text-purple-400 font-black italic">CLIENT</span> stores â€¢ <span class="text-cyan-400 font-black italic">SERVER</span> verifies.'
    />
  </div>

  <style>
    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .glass-tag {
      background: rgba(168, 85, 247, 0.05);
      border: 1px solid rgba(168, 85, 247, 0.2);
    }
    .token-label {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-top: 0.5rem;
      opacity: 0.8;
    }
  </style>
</BlogPostLayout>
