---
interface Props {
  certificates: any[];
  lang?: "es" | "en";
}

const { certificates, lang = "es" } = Astro.props;

const texts = {
  es: {
    logo_alt: "Logo de",
    issued: "Emitido:",
    view_credential: "Ver Credencial",
  },
  en: {
    logo_alt: "Logo of",
    issued: "Issued:",
    view_credential: "View Credential",
  },
};

const T = texts[lang];
---

<div class="max-w-3xl grid grid-cols-1 lg:grid-cols-2 gap-6 self-center">
  {
    certificates.map((cert) => (
      <div
        class="bg-gray-200 dark:bg-gray-700 rounded-lg shadow-lg px-6 pb-2 pt-4 flex flex-col items-start transition-transform hover:scale-105"
        id={`${cert.credentialId}`}
        title={cert.title}
        data-credential-id={cert.credentialId}
        data-credential-url={cert.credentialUrl}
        data-credential-title={cert.title}
        data-credential-issuer={cert.issuer}
        data-credential-date={cert.date}
        data-credential-skills={cert.skills.join(", ")}
      >
        <header class="flex flex-col mobile:flex-row items-center">
          <img
            src={cert.logo}
            alt={`${T.logo_alt} ${cert.issuer}`}
            class="w-16 h-16 object-contain rounded-full mr-4 bg-white"
            width="100"
            height="100"
            transition:name={`logo-${cert.credentialId}`}
            loading="lazy"
          />
          <h3
            class="text-xl font-bold"
            transition:name={`title-${cert.credentialId}`}
          >
            <a
              href={cert.credentialUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="mt-auto inline-flex items-center justify-end text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 font-medium"
            >
              {cert.title}
            </a>
          </h3>
        </header>
        <main class="flex flex-col mobile:flex-row justify-between gap-x-4 items-center flex-1">
          <p class="text-gray-600 dark:text-gray-400 self-center">
            {cert.issuer}
          </p>
          <time
            class="text-gray-500 dark:text-gray-300 text-sm self-center"
            datetime={cert.date}
          >
            {cert.issueDate}
          </time>
        </main>
      </div>
    ))
  }
</div>
