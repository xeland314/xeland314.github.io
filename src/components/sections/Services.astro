---
interface Props {
  lang?: "es" | "en";
}

const { lang = "es" } = Astro.props;

const translations = {
  es: {
    title: "Lo que puedo hacer por ti",
    subtitle: "Experiencia técnica aplicada a soluciones reales.",
    services: [
      {
        title: "Backend & APIs",
        description:
          "Diseño de arquitecturas escalables y APIs de alto rendimiento. Experiencia con rate limiting y procesamiento de alto volumen.",
        tags: ["Python", "Go", "FastAPI", "PostgreSQL"],
      },
      {
        title: "Integración de IA",
        description:
          "Implementación de LLMs y análisis de datos. Desde prototipos hasta soluciones en producción.",
        tags: ["Gemini", "OpenAI", "Data Analysis"],
      },
      {
        title: "Frontend & Fullstack",
        description:
          "Interfaces modernas y reactivas. Experiencia con dashboards en tiempo real y sistemas de alerta.",
        tags: ["React", "Astro", "Tailwind", "WebSockets"],
      },
      {
        title: "Desarrollo Móvil",
        description: "Apps nativas y multiplataforma. Enfoque en rendimiento y UX intuitiva.",
        tags: ["Flutter", "Dart"],
      },
      {
        title: "Optimización & Performance",
        description: "Análisis y mejora de algoritmos. Experiencia con sistemas de procesamiento en tiempo real.",
        tags: ["Rust", "Go", "Profiling", "Caching"],
      },
      {
        title: "DevOps & Deployment",
        description: "Deploy en AWS (EC2), automatización con GitHub Actions. Enfoque en confiabilidad.",
        tags: ["AWS", "CI/CD", "Docker"],
      },
    ],
  },
  en: {
    title: "What I can do for you",
    subtitle: "Technical expertise applied to real-world solutions.",
    services: [
      {
        title: "Backend & APIs",
        description:
          "Scalable architecture design and high-performance APIs. Experience with rate limiting and high-volume processing.",
        tags: ["Python", "Go", "FastAPI", "PostgreSQL"],
      },
      {
        title: "AI Integration",
        description:
          "LLM implementation and data analysis. From prototypes to production solutions.",
        tags: ["Gemini", "OpenAI", "Data Analysis"],
      },
      {
        title: "Frontend & Fullstack",
        description:
          "Modern, reactive interfaces. Experience with real-time dashboards and alert systems.",
        tags: ["React", "Astro", "Tailwind", "WebSockets"],
      },
      {
        title: "Mobile Development",
        description: "Native and cross-platform apps. Focus on performance and intuitive UX.",
        tags: ["Flutter", "Dart"],
      },
      {
        title: "Optimization & Performance",
        description: "Algorithm analysis and improvement. Experience with real-time processing systems.",
        tags: ["Rust", "Go", "Profiling", "Caching"],
      },
      {
        title: "DevOps & Deployment",
        description: "AWS deployment (EC2), GitHub Actions automation. Reliability-focused approach.",
        tags: ["AWS", "CI/CD", "Docker"],
      },
    ],
  },
};

const t = translations[lang];

const serviceIcons = [
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="8" rx="2" ry="2"/><rect x="2" y="14" width="20" height="8" rx="2" ry="2"/><line x1="6" y1="6" x2="6.01" y2="6"/><line x1="6" y1="18" x2="6.01" y2="18"/></svg>`,
    class:
      "bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>`,
    class:
      "bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><path d="M9 3v18"/><path d="m15 9 3 3-3 3"/><path d="m9 9-3 3 3 3"/></svg>`,
    class:
      "bg-teal-50 dark:bg-teal-900/20 border-teal-200 dark:border-teal-800",
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="20" x="5" y="2" rx="2" ry="2"/><path d="M12 18h.01"/></svg>`,
    class:
      "bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800",
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>`,
    class:
      "bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800",
  },
  {
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>`,
    class:
      "bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800",
  },
];

const services = t.services.map((service, index) => ({
  ...service,
  ...serviceIcons[index],
}));
---

<section id="services" class="py-16 px-4 max-w-6xl mx-auto">
  <div class="mb-12 text-center">
    <h2 class="text-3xl font-bold mb-4 text-gray-900 dark:text-white">
      {t.title}
    </h2>
    <p class="text-lg text-gray-600 dark:text-gray-300">{t.subtitle}</p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-fr">
    {
      services.map((service) => (
        <div
          class={`p-6 rounded-2xl border transition-all hover:scale-[1.02] hover:shadow-lg ${service.class} flex flex-col justify-between`}
        >
          <div>
            <h3 class="text-xl font-bold mb-2 text-gray-900 dark:text-white">
              {service.title}
            </h3>
            <p class="text-gray-600 dark:text-gray-300 mb-4">
              {service.description}
            </p>
          </div>
          <div class="flex flex-wrap gap-2 mt-auto">
            {service.tags.map((tag) => (
              <span class="text-xs font-medium px-2 py-1 rounded-md bg-white/50 dark:bg-black/20 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700">
                {tag}
              </span>
            ))}
          </div>
        </div>
      ))
    }
  </div>
</section>
