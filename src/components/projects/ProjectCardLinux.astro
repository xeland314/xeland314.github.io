---
// src/components/ProjectCard.astro (Versión Linux Terminal)

interface Props {
  project: {
    title: string;
    description: string;
    shortDescription: string;
    githubLink?: string | null | undefined;
    demoLink?: string | null | undefined;
    tags: string[] | unknown;
    image?: string | undefined | null;
    slug: string;
  };
  lang?: "es" | "en";
}

const { project, lang = "es" } = Astro.props;
const detailsPageLink = `/${lang}/projects/${project.slug}`;
---

<article
  class="bg-gray-950 dark:bg-black border border-gray-800 dark:border-gray-700 p-4 font-mono text-sm"
>
  <!-- Prompt line -->
  <div class="flex items-start gap-2 mb-2">
    <span class="text-green-500 dark:text-green-400 select-none"
      >user@portfolio:~$</span
    >
    <div class="flex-1">
      <span class="text-blue-400 dark:text-blue-300">cat</span>
      <span class="text-gray-100 dark:text-gray-200 ml-1"
        >{project.slug}.md</span
      >
    </div>
  </div>

  <!-- Output -->
  <div class="pl-2 border-l-2 border-gray-800 dark:border-gray-700 ml-2">
    <h3 class="text-white dark:text-gray-100 font-bold text-base mb-2">
      # {project.title}
    </h3>

    <p class="text-gray-300 dark:text-gray-400 mb-3 leading-relaxed">
      {project.shortDescription || project.description}
    </p>

    <!-- Tags como comentarios -->
    <div class="text-gray-600 dark:text-gray-500 mb-3 space-y-1">
      {(project.tags as string[]).map((tag) => <div>// {tag}</div>)}
    </div>

    <!-- Links estilo ls -la -->
    <div class="text-xs space-y-1">
      <div class="flex gap-4">
        <a
          href={detailsPageLink}
          class="text-cyan-400 dark:text-cyan-300 hover:underline"
        >
          → README.md
        </a>
        {
          project.githubLink && (
            <a
              href={project.githubLink}
              target="_blank"
              rel="noopener noreferrer"
              class="text-yellow-400 dark:text-yellow-300 hover:underline"
            >
              → .git/
            </a>
          )
        }
        {
          project.demoLink && (
            <a
              href={project.demoLink}
              target="_blank"
              rel="noopener noreferrer"
              class="text-green-400 dark:text-green-300 hover:underline"
            >
              → run.sh*
            </a>
          )
        }
      </div>
    </div>
  </div>

  <!-- Cursor parpadeante opcional -->
  <div class="flex items-center gap-2 mt-3 ml-2">
    <span class="text-green-500 dark:text-green-400 select-none"
      >user@portfolio:~$</span
    >
    <span class="inline-block w-2 h-4 bg-gray-500 animate-pulse"></span>
  </div>
</article>
